{% macro _contribution_line(contrib, custom_room) -%}
    {{ contrib.startDate | format_date() }} - {{ contrib.duration | format_timedelta }}
    {%- if custom_room %} (in {{ custom_room }}){% endif %} - {{ contrib.title }}
{%- endmacro %}

{% macro contribution_list(contributions, title, non_capable_info=false) -%}
    {%- set contributions_in_non_capable_rooms = contributions|rejectattr('1')|list -%}
    {{ title }}
    {%- for contrib, capable, custom_room in contributions %}
        - {{ _contribution_line(contrib, custom_room) }}
    {%- endfor -%}
    {%- if contributions_in_non_capable_rooms and non_capable_info %}

        Contributions in room without webcast/recording equipment:
        {%- for contrib, capable, custom_room in contributions_in_non_capable_rooms %}
            - {{ _contribution_line(contrib, custom_room) }}
        {%- endfor -%}
    {% endif -%}
{%- endmacro %}
