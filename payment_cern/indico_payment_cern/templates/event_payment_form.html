Select a CERN YellowPay payment method to proceed with your payment.

<dl class="i-data-list">
    <dt>{% trans %}First name{% endtrans %}</dt>
    <dd>{{ registrant.getFirstName() }}</dd>
    <dt>{% trans %}Last name{% endtrans %}</dt>
    <dd>{{ registrant.getFamilyName() }}</dd>
    <dt>{% trans %}Pay using{% endtrans %}</dt>
    <dd>
        <select id="yellowpay-method">
            <option value="">{% trans %}Please choose an option{% endtrans %}</option>
            {% for method in yellowpay_methods %}
                <option value="{{ method.name }}" {%- if method.name == selected_method %} selected{% endif %}>
                    {{ method.title }}
                </option>
            {% endfor %}
        </select>
    </dd>
    {% if event_settings.apply_fees %}
        <dt>{% trans %}Extra fee{% endtrans %}</dt>
        <dd>
            {% if fee is not none %}
                {{ format_currency(fee, currency, locale=session.lang) }}
            {% else %}
                {% trans %}n/a{% endtrans %}
            {% endif %}
        </dd>
    {% endif %}
    <dt>{% trans %}Total amount{% endtrans %}</dt>
    <dd>
        {% if amount is not none %}
            <strong>{{ format_currency(amount, currency, locale=session.lang) }}</strong>
        {% else %}
            {% trans %}n/a{% endtrans %}
        {% endif %}
    </dd>
    <dt></dt>
    <dd>
        <form action="{{ settings.payment_url }}" method="POST" id="cernyellowpay">
        {# TODO: Complete form #}
        <!--<input type="hidden" name="ACCEPTURL" id="ACCEPTURL" value="">
            <input type="hidden" name="AMOUNT" id="AMOUNT" value="{{ amount }}">
            <input type="hidden" name="BACKURL" id="BACKURL" value="">
            <input type="hidden" name="BRAND" id="BRAND" value="">
            <input type="hidden" name="CANCELURL" id="CANCELURL" value="">
            <input type="hidden" name="CN" id="CN" value="">
            <input type="hidden" name="CURRENCY" id="CURRENCY" value="{{ currency }}">
            <input type="hidden" name="DECLINEURL" id="DECLINEURL" value="">
            <input type="hidden" name="EMAIL" id="EMAIL" value="">
            <input type="hidden" name="EXCEPTIONURL" id="EXCEPTIONURL" value="">
            <input type="hidden" name="HOMEURL" id="HOMEURL" value="">
            <input type="hidden" name="LANGUAGE" id="LANGUAGE" value="">
            <input type="hidden" name="ORDERID" id="ORDERID" value="">
            <input type="hidden" name="OWNERADDRESS" id="OWNERADDRESS" value="">
            <input type="hidden" name="OWNERCTY" id="OWNERCTY" value="">
            <input type="hidden" name="OWNERTELNO" id="OWNERTELNO" value="">
            <input type="hidden" name="OWNERTOWN" id="OWNERTOWN" value="">
            <input type="hidden" name="PARAMVAR" id="PARAMVAR" value="">
            <input type="hidden" name="PM" id="PM" value="">
            <input type="hidden" name="PSPID" id="PSPID" value="">
            <input type="hidden" name="TP" id="TP" value="">
            <input type="hidden" name="SHASIGN" id="SHASIGN" value="">
            -->
            <input class="i-button highlight" type="submit" name="submit" value="Pay now" {%- if amount is none %} disabled{% endif %}>
        </form>
    </dd>
</dl>


<script>
    (function() {
        $('#yellowpay-method').on('change', function() {
            reloadPaymentMethod({yellowpay_method: $(this).val()});
        });
    })();
</script>
